{
  "kind": "spec_vs_diff_report",
  "version": "1.0",
  "generatedAt": "2026-02-15T10:53:49.239Z",
  "summary": "Frontend changes address the post-navigation bootstrap hang via safer actor/profile/admin bootstrap handling (timeouts, retries, diagnostic logs) and add PDF parsing for Master Design imports. UI-side normalization for empty karigar names is implemented in metrics derivation and filters. However, the backend requirement to *guarantee* automatic assignment/overwrite of `genericName`/`karigarName` from `masterDesignsMap` during order upload and unmapped-order reprocessing is not evidenced in the provided backend diff snippet (only types/state are visible due to truncation). Several additional UI features/components appear to have been changed/added beyond the requested scope (role gates, connectivity status, offline sync-related UI), based on the file summary evidence.",
  "missing_requirements": [
    {
      "id": "REQ-44",
      "requirement": "Guarantee that orders are automatically assigned `genericName` and `karigarName` from the backend Master Designs mapping based on `designCode` during upload and during unmapped-order reprocessing (do not rely on frontend pre-fill).",
      "reason": "The diff excerpt for `backend/main.mo` only shows imports, type/module definitions, and state maps. There is no visible implementation evidence for `uploadParsedOrders` overwriting `genericName`/`karigarName` from `masterDesignsMap`, nor evidence for `saveMasterDesigns` reprocessing previously-unmapped orders to move them into `ordersMap` with mapped names. Because the backend file content is truncated, this functionality cannot be confirmed from the provided diff summary.",
      "evidence": [
        "backend/main.mo (truncated excerpt shows only types/state; no `uploadParsedOrders`/`saveMasterDesigns` logic visible)"
      ]
    }
  ],
  "hallucinated_features": [
    {
      "description": "Connectivity/offline-sync style UI elements (connectivity status bar with pending sync queue, last sync time, manual sync trigger).",
      "reason": "Not requested by REQ-41..REQ-44; BuildRequest non-goals also disallow adding external services, and offline sync is unrelated to the specified fixes.",
      "evidence": [
        "frontend-file-summaries.txt (mentions `frontend/src/components/status/ConnectivityStatusBar.tsx`: pending sync queue count, last sync time, manual sync trigger)"
      ]
    },
    {
      "description": "Additional role-based access UI wrappers/screens beyond what is required to fix loading hang and karigar mapping (e.g., RoleGate, AccessDeniedScreen, expanded role enforcement).",
      "reason": "BuildRequest non-goals: 'Changing application roles/permissions beyond what is requiredâ€¦'. These components indicate broader authorization UI work than the stated scope.",
      "evidence": [
        "frontend-file-summaries.txt (mentions `frontend/src/components/auth/AccessDeniedScreen.tsx`, `frontend/src/components/auth/RoleGate.tsx`)"
      ]
    },
    {
      "description": "Large UI/UX expansions (new/updated LoginPage branding, AppShell footer attribution/back-end status indicator, enhanced global AppErrorBoundary with copy action, collapsible details panels).",
      "reason": "Not requested by REQ-41..REQ-44; these are broader UX enhancements rather than targeted fixes for bootstrap hang, PDF import parsing, or backend mapping guarantees.",
      "evidence": [
        "frontend-file-summaries.txt (mentions `frontend/src/pages/LoginPage.tsx` branding/background, `frontend/src/components/layout/AppShell.tsx` footer/indicator, `frontend/src/components/errors/AppErrorBoundary.tsx` advanced UI)"
      ]
    }
  ],
  "confidence": 0.62,
  "changed_files": [
    "backend/main.mo",
    "frontend-file-summaries.txt",
    "frontend/src/App.tsx",
    "frontend/src/components/masterDesigns/MasterDesignImportDialog.tsx",
    "frontend/src/components/orders/OrdersFiltersBar.tsx",
    "frontend/src/hooks/useCurrentUser.ts",
    "frontend/src/hooks/useQueries.ts",
    "frontend/src/hooks/useSafeActor.ts",
    "frontend/src/lib/orders/deriveMetrics.ts",
    "frontend/src/lib/parsers/masterDesignParser.ts",
    "frontend/src/lib/parsers/pdf/extractText.ts",
    "frontend/src/lib/parsers/pdf/parseMasterDesignsFromPdfText.ts",
    "project_state.json"
  ]
}